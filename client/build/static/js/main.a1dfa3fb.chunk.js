(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{70:function(e,t,r){},72:function(e,t,r){},73:function(e,t,r){},75:function(e,t,r){},76:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){},79:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){},83:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){},89:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r(18),a=r.n(n),s=r(5),i=r(9),o=r(2),d=r(3),l=r.n(d),j=r(6),u=r(7),b=r.n(u),h="PRODUCTS_REQUEST",p="PRODUCTS_SUCCESS",O="PRODUCTS_FAIL",x="PRODUCT_DETAIL_REQUEST",v="PRODUCT_DETAIL_SUCCESS",m="PRODUCT_DETAIL_FAIL",f="PRODUCT_CREATE_REQUEST",g="PRODUCT_CREATE_SUCCESS",y="PRODUCT_CREATE_FAIL",E="PRODUCT_CREATE_RESET",S="PRODUCT_UPDATE_REQUEST",_="PRODUCT_UPDATE_SUCCESS",w="PRODUCT_UPDATE_FAIL",I="PRODUCT_UPDATE_RESET",C="PRODUCT_DELETE_REQUEST",R="PRODUCT_DELETE_SUCCESS",N="PRODUCT_DELETE_FAIL",A="PRODUCT_DELETE_RESET",D="PRODUCT_CATEGORY_REQUEST",P="PRODUCT_CATEGORY_SUCCESS",T="PRODUCT_CATEGORY_FAIL",k="REVIEW_CREATE_REQUEST",U="REVIEW_CREATE_SUCCESS",F="REVIEW_CREATE_FAIL",L="REVIEW_CREATE_RESET",q="CART_ADD_ITEM",B="CART_REMOVE_ITEM",Q="CART_SAVE_SHIPPING_ADDRESS",M="CART_SAVE_PAYMENT_METHOD",z="CART_EMPTY",H="USER_SIGNIN_REQUEST",$="USER_SIGNIN_SUCCESS",G="USER_SIGNIN_FAIL",Y="USER_SIGNOUT",V="USER_SIGNUP_REQUEST",J="USER_SIGNUP_SUCCESS",W="USER_SIGNUP_FAIL",X="USER_DETAIL_REQUEST",K="USER_DETAIL_SUCCESS",Z="USER_DETAIL_FAIL",ee="USER_DETAIL_RESET",te="USER_UPDATE_REQUEST",re="USER_UPDATE_SUCCESS",ce="USER_UPDATE_FAIL",ne="USER_UPDATE_RESET",ae="USER_LIST_REQUEST",se="USER_LIST_SUCCESS",ie="USER_LIST_FAIL",oe="USER_DELETE_REQUEST",de="USER_DELETE_SUCCESS",le="USER_DELETE_FAIL",je="USER_DELETE_RESET",ue="USER_EDIT_REQUEST",be="USER_EDIT_SUCCESS",he="USER_EDIT_FAIL",pe="USER_EDIT_RESET",Oe="ORDER_CREATE_REQUEST",xe="ORDER_CREATE_SUCCESS",ve="ORDER_CREATE_FAIL",me="ORDER_CREATE_RESET",fe="ORDER_DETAILS_REQUEST",ge="ORDER_DETAILS_SUCCESS",ye="ORDER_DETAILS_FAIL",Ee="ORDER_PAY_REQUEST",Se="ORDER_PAY_SUCCESS",_e="ORDER_PAY_FAIL",we="ORDER_PAY_RESET",Ie="ORDER_HISTORY_REQUEST",Ce="ORDER_HISTORY_SUCCESS",Re="ORDER_HISTORY_FAIL",Ne="ORDER_LIST_REQUEST",Ae="ORDER_LIST_SUCCESS",De="ORDER_LIST_FAIL",Pe="ORDER_DELETE_REQUEST",Te="ORDER_DELETE_SUCCESS",ke="ORDER_DELETE_FAIL",Ue="ORDER_DELETE_RESET",Fe="ORDER_DELIVER_REQUEST",Le="ORDER_DELIVER_SUCCESS",qe="ORDER_DELIVER_FAIL",Be="ORDER_DELIVER_RESET",Qe="USER_MAP_ADDRESS",Me=function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(c,n){var a,s;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.a.get("/products/".concat(e));case 2:a=r.sent,s=a.data,c({type:q,payload:{name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,productId:s._id,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},ze=function(e){return function(t){t({type:Q,payload:e}),localStorage.setItem("shippingAddress",JSON.stringify(e))}},He=(r(70),r(0));var $e=function(e){return Object(He.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})},Ge=(r(72),r(16));r(73);var Ye=function(e){var t=Object(o.b)(),r=e.item,c=e.removeFromCartHandler;return Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:Object(He.jsx)("img",{src:"../".concat(r.image),alt:r.name,className:"small"})}),Object(He.jsx)("div",{className:"min-30",children:Object(He.jsx)(s.b,{to:"/product/".concat(r.productId),children:r.name})}),Object(He.jsx)("div",{children:Object(He.jsx)("select",{value:r.qty,onChange:function(e){return t(Me(r.productId,Number(e.target.value)))},children:Object(Ge.a)(Array(r.countInStock).keys()).map((function(e){return Object(He.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(He.jsxs)("div",{children:["$",r.price]}),Object(He.jsx)("div",{children:Object(He.jsx)("button",{className:"delete",type:"button",onClick:function(){return c(r.productId)},children:"Delete"})})]})},r.productId)};r(75);var Ve=function(e){var t=e.cartItems,r=e.checkoutHandler;return Object(He.jsx)("div",{className:"card card-body",children:Object(He.jsxs)("ul",{children:[Object(He.jsx)("li",{children:Object(He.jsxs)("h2",{children:["Subtotal (",t.reduce((function(e,t){return e+t.qty}),0)," items) : $ ",t.reduce((function(e,t){return e+t.price*t.qty}),0)]})}),Object(He.jsx)("li",{children:Object(He.jsx)("button",{type:"button",onClick:r,disabled:0===t.length,children:"Check Out"})})]})})};var Je=function(e){var t=Object(o.b)(),r=e.match.params.id,n=e.location.search?Number(e.location.search.split("=")[1]):1,a=Object(o.c)((function(e){return e.cart})).cartItems;Object(c.useEffect)((function(){r&&t(Me(r,n))}),[t,r,n]);var i=function(e){t(function(e){return function(t,r){t({type:B,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}}(e))};return Object(He.jsxs)("div",{className:"row top",children:[Object(He.jsxs)("div",{className:"col-2",children:[Object(He.jsx)("h1",{children:"Shopping Cart"}),0===a.length?Object(He.jsxs)($e,{children:["Cart is empty. ",Object(He.jsx)(s.b,{to:"/",children:"Go Shopping"})]}):Object(He.jsx)("ul",{children:a.map((function(e){return Object(He.jsx)(Ye,{item:e,removeFromCartHandler:i},e.productId)}))})]}),Object(He.jsx)("div",{className:"col-1",children:Object(He.jsx)(Ve,{cartItems:a,checkoutHandler:function(){e.history.push("/signin?redirect=shipping")}})})]})};var We=function(e){var t=e.rating,r=e.numReviews,c=e.caption;return Object(He.jsxs)("div",{className:"rating",children:[Object(He.jsx)("span",{children:Object(He.jsx)("i",{className:t>=1?"fa fa-star":t>=.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(He.jsx)("span",{children:Object(He.jsx)("i",{className:t>=2?"fa fa-star":t>=1.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(He.jsx)("span",{children:Object(He.jsx)("i",{className:t>=3?"fa fa-star":t>=2.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(He.jsx)("span",{children:Object(He.jsx)("i",{className:t>=4?"fa fa-star":t>=3.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(He.jsx)("span",{children:Object(He.jsx)("i",{className:t>=5?"fa fa-star":t>=4.5?"fa fa-star-half-o":"fa fa-star-o"})}),c?Object(He.jsx)("span",{children:c}):Object(He.jsx)("span",{children:r+" reviews"})]})};var Xe=function(e){var t=e.product;return Object(He.jsxs)("div",{className:"card",children:[Object(He.jsx)(s.b,{to:"/product/".concat(t._id),children:Object(He.jsx)("img",{className:"medium",src:t.image,alt:t.name})}),Object(He.jsxs)("div",{className:"card-body",children:[Object(He.jsx)(s.b,{to:"/product/".concat(t._id),children:Object(He.jsx)("h2",{children:t.name})}),Object(He.jsx)(We,{rating:t.rating,numReviews:t.numReviews}),Object(He.jsxs)("div",{className:"price",children:["$",t.price]})]},t._id)]},t._id)};var Ke=function(){return Object(He.jsxs)("div",{className:"loading",children:[Object(He.jsx)("i",{className:"fa fa-spinner fa-spin"})," Loading..."]})},Ze=function(e){var t=e.currPage,r=void 0===t?1:t,c=e.name,n=void 0===c?"":c,a=e.category,s=void 0===a?"":a,i=e.sort,o=void 0===i?"":i;return function(){var e=Object(j.a)(l.a.mark((function e(t){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.prev=1,e.next=4,b.a.get("/products?name=".concat(n,"&category=").concat(s,"&sort=").concat(o,"&currPage=").concat(r));case 4:c=e.sent,a=c.data,t({type:p,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:O,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},et=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r){var c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:x}),t.prev=1,t.next=4,b.a.get("/products/".concat(e));case 4:c=t.sent,n=c.data,r({type:v,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:m,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},tt=function(e,t){if(!e)return"all";var r=new URLSearchParams(e).get(t);switch(t){case"sort":return r||"none";case"currPage":return r||1;default:return r||"all"}};var rt=function(e){var t=Object(o.b)(),r=e.location.search,n=tt(r,"currPage"),a=Object(o.c)((function(e){return e.products})),i=a.products,d=a.loading,l=a.error,j=a.page,u=a.pages;return Object(c.useEffect)((function(){t(Ze({currPage:n}))}),[t,n]),Object(He.jsx)("div",{children:d?Object(He.jsx)(Ke,{}):l?Object(He.jsx)($e,{variant:"danger",children:l}):Object(He.jsxs)(He.Fragment,{children:[Object(He.jsx)("div",{className:"row center",children:i.map((function(e){return Object(He.jsx)(Xe,{product:e},e._id)}))}),Object(He.jsx)("div",{className:"row center pagination",children:Object(Ge.a)(Array(u).keys()).map((function(e){return Object(He.jsx)(s.b,{className:e+1===j?"active":"",to:"/home?currPage=".concat(e+1),children:e+1})}))})]})})},ct=r(4);r(76),r(77);var nt=function(e){var t=e.product,r=(window.location.protocol,window.location.host,"../"+t.image);return Object(He.jsxs)(He.Fragment,{children:[Object(He.jsx)("div",{className:"col-2",children:Object(He.jsx)("img",{className:"large",src:r,alt:t.name})}),Object(He.jsx)("div",{className:"col-1",children:Object(He.jsxs)("ul",{children:[Object(He.jsx)("li",{children:Object(He.jsx)("h1",{children:t.name})}),Object(He.jsx)("li",{children:Object(He.jsx)(We,{rating:t.rating,numReviews:t.numReviews})}),Object(He.jsxs)("li",{children:["Price : $",t.price]}),Object(He.jsxs)("li",{children:["Description : ",t.description]})]})})]})};r(78);var at=function(e){var t=e.product,r=e.qty,c=e.setQty,n=e.addToCartHandler;return Object(He.jsx)("div",{className:"col-1",children:Object(He.jsx)("div",{className:"card card-body",children:Object(He.jsxs)("ul",{children:[Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Price"}),Object(He.jsxs)("div",{className:"price",children:["$",t.price]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Status"}),Object(He.jsx)("div",{children:t.countInStock>0?Object(He.jsx)("span",{className:"success",children:"In Stock"}):Object(He.jsx)("span",{className:"error",children:"Out of Stock"})})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Qty"}),Object(He.jsx)("div",{children:Object(He.jsx)("select",{value:r,onChange:function(e){return c(e.target.value)},disabled:0===t.countInStock,children:Object(Ge.a)(Array(t.countInStock).keys()).map((function(e){return Object(He.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(He.jsx)("li",{children:Object(He.jsx)("button",{onClick:n,disabled:0===t.countInStock,children:"Add to Cart"})})]})})})};var st=function(e){var t=Object(o.b)(),r=Object(o.c)((function(e){return e.productDetail})),n=r.product,a=r.loading,i=r.error,d=Object(o.c)((function(e){return e.reviewCreate})),u=d.loading,h=d.error,p=d.success,O=Object(o.c)((function(e){return e.user})).userInfo,x=e.match.params.id,v=Object(c.useState)(1),m=Object(ct.a)(v,2),f=m[0],g=m[1],y=Object(c.useState)(0),E=Object(ct.a)(y,2),S=E[0],_=E[1],w=Object(c.useState)(""),I=Object(ct.a)(w,2),C=I[0],R=I[1];return Object(c.useEffect)((function(){p&&(alert("Review submitted successfully."),_(0),R(""),t({type:L})),t(et(x))}),[t,x,p]),Object(He.jsx)("div",{children:a?Object(He.jsx)(Ke,{}):i?Object(He.jsx)($e,{variant:"danger",children:i}):Object(He.jsxs)("div",{children:[Object(He.jsx)(s.b,{to:"/",children:"Go Back"}),Object(He.jsxs)("div",{className:"row top",children:[Object(He.jsx)(nt,{product:n}),Object(He.jsx)(at,{product:n,qty:f,setQty:g,addToCartHandler:function(){e.history.push("/cart/".concat(x,"?qty=").concat(f))}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("h2",{id:"reviews",children:"Reviews"}),0===n.reviews.length&&Object(He.jsx)($e,{children:"There is no review."}),Object(He.jsxs)("ul",{children:[n.reviews.map((function(e){return Object(He.jsxs)("li",{children:[Object(He.jsx)("strong",{children:e.name}),Object(He.jsx)(We,{rating:e.rating,caption:" "}),Object(He.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(He.jsx)("p",{children:e.comment})]},e._id)})),Object(He.jsx)("li",{children:O?Object(He.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),S&&C?t(function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(c,n){var a,s,i,o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:k}),a=n(),s=a.user.userInfo,r.prev=2,r.next=5,b.a.post("/products/reviews/".concat(e),t,{headers:{Authorization:"Bearer ".concat(s.token)}});case 5:i=r.sent,o=i.data,c({type:U,payload:o.review}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),c({type:F,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[2,10]])})));return function(e,t){return r.apply(this,arguments)}}()}(x,{rating:S,comment:C,userId:O._id})):alert("Please select rating and enter comment.")},children:[Object(He.jsx)("div",{children:Object(He.jsx)("h2",{children:"Write a product review"})}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(He.jsxs)("select",{id:"rating",value:S,onChange:function(e){return _(e.target.value)},children:[Object(He.jsx)("option",{value:"",children:"Select..."}),Object(He.jsx)("option",{value:"1",children:"1 - Poor"}),Object(He.jsx)("option",{value:"2",children:"2 - Fair"}),Object(He.jsx)("option",{value:"3",children:"3 - Good"}),Object(He.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(He.jsx)("option",{value:"5",children:"5 - Excenllent"})]})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"comment",children:"Comment"}),Object(He.jsx)("textarea",{id:"comment",value:C,rows:"3",onChange:function(e){return R(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsx)("button",{type:"submit",children:"Submit"}),u&&Object(He.jsx)(Ke,{}),h&&Object(He.jsx)($e,{variant:"danger",children:h}),p&&Object(He.jsx)($e,{variant:"success",children:"Review submitted successfully."})]})]}):Object(He.jsxs)($e,{children:["Please ",Object(He.jsx)(s.b,{to:"/signin",children:"Sign In"})," to write a review."]})})]})]})]})})},it=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:X,payload:e}),n=c(),a=n.user.userInfo,t.prev=2,t.next=5,b.a.get("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,r({type:K,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r({type:Z,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()};r(79);var ot=function(e){var t=Object(o.b)(),r=Object(c.useState)("user@gmail.com"),n=Object(ct.a)(r,2),a=n[0],i=n[1],d=Object(c.useState)("123"),u=Object(ct.a)(d,2),h=u[0],p=u[1],O=e.location.search?e.location.search.split("=")[1]:"/",x=Object(o.c)((function(e){return e.user})),v=x.userInfo,m=x.loading,f=x.error;return Object(c.useEffect)((function(){v&&e.history.push(O)}),[e.history,O,v]),Object(He.jsx)("div",{children:Object(He.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(c){var n,a;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:H,payload:{email:e,password:t}}),r.prev=1,r.next=4,b.a.post("/users/signin",{email:e,password:t});case 4:n=r.sent,a=n.data,c({type:$,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),c({type:G,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 13:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}()}(a,h))},children:[Object(He.jsx)("div",{children:Object(He.jsx)("h1",{children:"Sign In"})}),m&&Object(He.jsx)(Ke,{}),f&&Object(He.jsx)($e,{variant:"danger",children:f}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(He.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",required:!0,value:a,onChange:function(e){return i(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"password",children:"Password"}),Object(He.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",required:!0,value:h,onChange:function(e){return p(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsx)("button",{type:"submit",children:"Sign In"})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsxs)("div",{children:["New customer?"," ",Object(He.jsx)(s.b,{to:"/signup?redirect=".concat(O),children:"Create your account"})]})]})]})})};r(80);var dt=function(e){var t=Object(o.b)(),r=Object(c.useState)(""),n=Object(ct.a)(r,2),a=n[0],i=n[1],d=Object(c.useState)(""),u=Object(ct.a)(d,2),h=u[0],p=u[1],O=Object(c.useState)(""),x=Object(ct.a)(O,2),v=x[0],m=x[1],f=Object(c.useState)(""),g=Object(ct.a)(f,2),y=g[0],E=g[1],S=e.location.search?e.location.search.split("=")[1]:"/",_=Object(o.c)((function(e){return e.user})),w=_.userInfo,I=_.loading,C=_.error;return Object(c.useEffect)((function(){w&&e.history.push(S)}),[e.history,S,w]),Object(He.jsx)("div",{children:Object(He.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),v!==y?alert("Password and confirm passwrod are not match."):t(function(e,t,r){return function(){var c=Object(j.a)(l.a.mark((function c(n){var a,s;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n({type:V,payload:{name:e,email:t,password:r}}),c.prev=1,c.next=4,b.a.post("/users/signup",{name:e,email:t,password:r});case 4:a=c.sent,s=a.data,n({type:J,payload:s}),n({type:$,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),n({type:W,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 14:case"end":return c.stop()}}),c,null,[[1,11]])})));return function(e){return c.apply(this,arguments)}}()}(a,h,v))},children:[Object(He.jsx)("div",{children:Object(He.jsx)("h1",{children:"Create Account"})}),I&&Object(He.jsx)(Ke,{}),C&&Object(He.jsx)($e,{variant:"danger",children:C}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"name",children:"Name"}),Object(He.jsx)("input",{type:"name",id:"name",placeholder:"Enter name",required:!0,onChange:function(e){return i(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"email",children:"Email Adress"}),Object(He.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",required:!0,onChange:function(e){return p(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"password",children:"Password"}),Object(He.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",required:!0,onChange:function(e){return m(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(He.jsx)("input",{type:"password",id:"confirmPassword",placeholder:"Enter Confirm password",required:!0,onChange:function(e){return E(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsx)("button",{type:"submit",children:"Sign Up"})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsxs)("div",{children:["Already have an account?"," ",Object(He.jsx)(s.b,{to:"/signin?redirect=".concat(S),children:"Sign In"})]})]})]})})};r(81);var lt=function(e){var t=e.cartItems;return Object(He.jsx)(He.Fragment,{children:t.length>0&&Object(He.jsx)("span",{className:"badge",children:t.length})})};r(82);var jt=function(e){var t=Object(c.useState)("all"),r=Object(ct.a)(t,2),n=r[0],a=r[1];return Object(He.jsx)("div",{children:Object(He.jsx)("form",{className:"search",onSubmit:function(t){t.preventDefault(),e.history.push("/search?name=".concat(n))},children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("input",{type:"text",name:"keyWords",id:"keyWords",onChange:function(e){return a(e.target.value)}}),Object(He.jsx)("button",{children:Object(He.jsx)("i",{className:"fa fa-search"})})]})})})};r(83);var ut=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})).userInfo,r=Object(o.c)((function(e){return e.cart})).cartItems;return Object(He.jsxs)(He.Fragment,{children:[Object(He.jsx)("div",{children:Object(He.jsx)(s.b,{className:"brand",to:"/",children:"Dandelion e-shop"})}),Object(He.jsx)("div",{children:Object(He.jsx)(i.a,{render:function(e){var t=e.history;return Object(He.jsx)(jt,{history:t})}})}),Object(He.jsxs)("div",{children:[Object(He.jsxs)(s.b,{to:"/cart",children:["Cart",Object(He.jsx)(lt,{cartItems:r})]}),t?Object(He.jsxs)("div",{className:"dropdown",children:[Object(He.jsxs)(s.b,{to:"#",children:[t.name," ",Object(He.jsx)("i",{className:"fa fa-caret-down"})," "]}),Object(He.jsxs)("ul",{className:"dropdown-content",children:[Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{to:"/profile",children:"Profile"})}),Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{to:"/orderhistory",children:"Order History"})}),Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{to:"/",onClick:function(){e((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),e({type:Y})})),e({type:z})},children:"Sign Out"})})]})]}):Object(He.jsx)(s.b,{to:"/signin",children:"Sign In"}),t&&t.isAdmin&&Object(He.jsxs)("div",{className:"dropdown",children:[Object(He.jsxs)(s.b,{to:"#Admin",children:["Admin ",Object(He.jsx)("i",{className:"fa fa-caret-down"})]}),Object(He.jsxs)("ul",{className:"dropdown-content",children:[Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{to:"/dashboard",children:"Dashboard"})}),Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{to:"/productlist",children:"Products"})}),Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{to:"/orderlist",children:"Orders"})}),Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{to:"/userlist",children:"Users"})})]})]})]})]})};r(84);var bt=function(e){return Object(He.jsxs)("div",{className:"row checkout-steps",children:[Object(He.jsx)("div",{className:e.step1?"active":"",children:"Sign-In"}),Object(He.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(He.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(He.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})};var ht=function(e){Object(o.c)((function(e){return e.user})).userInfo||e.history.push("/signin");var t=Object(o.c)((function(e){return e.cart})).shippingAddress,r=Object(o.c)((function(e){return e.userMapAddress})).address,n={fullName:"",address:"",city:"",country:"",postalCode:""};t&&(n=t);var a=Object(c.useState)(t.lat),s=Object(ct.a)(a,2),i=s[0],d=(s[1],Object(c.useState)(t.lng)),l=Object(ct.a)(d,2),j=l[0],u=(l[1],Object(o.b)()),b=Object(c.useState)(n.fullName),h=Object(ct.a)(b,2),p=h[0],O=h[1],x=Object(c.useState)(n.address),v=Object(ct.a)(x,2),m=v[0],f=v[1],g=Object(c.useState)(n.city),y=Object(ct.a)(g,2),E=y[0],S=y[1],_=Object(c.useState)(n.country),w=Object(ct.a)(_,2),I=w[0],C=w[1],R=Object(c.useState)(n.postalCode),N=Object(ct.a)(R,2),A=N[0],D=N[1];return Object(He.jsxs)("div",{children:[Object(He.jsx)(bt,{step1:!0,step2:!0}),Object(He.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault();var c=r?r.lat:i,n=r?r.lng:j,a=!0;c&&n||(a=window.confirm("You did not set your location on map. Continue?")),a&&(u(ze({fullName:p,address:m,city:E,country:I,postalCode:A,lat:c,lng:n})),e.history.push("/payment"))},children:[Object(He.jsx)("div",{children:Object(He.jsx)("h1",{children:"Shipping Address"})}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),Object(He.jsx)("input",{type:"text",id:"fullName",placeholder:"Enter full name",value:p||"",onChange:function(e){return O(e.target.value)},required:!0})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"address",children:"Address"}),Object(He.jsx)("input",{type:"text",id:"address",placeholder:"Enter address",value:m||"",onChange:function(e){return f(e.target.value)},required:!0})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"city",children:"City"}),Object(He.jsx)("input",{type:"text",id:"city",placeholder:"Enter city",value:E||"",onChange:function(e){return S(e.target.value)},required:!0})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"country",children:"Country"}),Object(He.jsx)("input",{type:"text",id:"country",placeholder:"Enter country",value:I||"",onChange:function(e){return C(e.target.value)},required:!0})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(He.jsx)("input",{type:"text",id:"postalCode",placeholder:"Enter postal code",value:A||"",onChange:function(e){return D(e.target.value)},required:!0})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsx)("button",{type:"button",onClick:function(){u(ze({fullName:p,address:m,city:E,country:I,postalCode:A,lat:i,lng:j})),e.history.push("/map")},children:"Choose on Map"})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsx)("button",{type:"submit",children:"Continue"})]})]})]})};r(85);var pt=function(e){Object(o.c)((function(e){return e.cart})).shippingAddress.address||e.history.push("/shipping");var t=Object(o.b)(),r=Object(c.useState)("Paypal"),n=Object(ct.a)(r,2),a=n[0],s=n[1];return Object(He.jsxs)("div",{children:[Object(He.jsx)(bt,{step1:!0,step2:!0,step3:!0}),Object(He.jsxs)("form",{className:"form",onSubmit:function(r){var c;r.preventDefault(),t((c=a,function(e){e({type:M,payload:c})})),e.history.push("/placeorder")},children:[Object(He.jsx)("div",{children:Object(He.jsx)("h1",{children:"Payment Method"})}),Object(He.jsx)("div",{children:Object(He.jsxs)("div",{children:[Object(He.jsx)("input",{type:"radio",id:"paypal",value:"Paypal",name:"paymentMethod",required:!0,checked:!0,onChange:function(e){return s(e.target.value)}}),Object(He.jsx)("label",{htmlFor:"paypal",children:"Paypal"})]})}),Object(He.jsx)("div",{children:Object(He.jsxs)("div",{children:[Object(He.jsx)("input",{type:"radio",id:"stripe",value:"Stripe",name:"paymentMethod",required:!0,onChange:function(e){return s(e.target.value)}}),Object(He.jsx)("label",{htmlFor:"stripe",children:"Stripe"})]})}),Object(He.jsx)("div",{children:Object(He.jsx)("button",{type:"submit",children:"Continue"})})]})]})},Ot=r(11);var xt=function(e){var t=Object(o.b)(),r=Object(o.c)((function(e){return e.cart})),n=r.cartItems,a=r.shippingAddress,i=r.paymentMethod;i||e.history.push("/payment");var d=Object(o.c)((function(e){return e.orderCreate})),u=d.order,h=d.loading,p=d.success,O=d.error,x=function(e){return Number(e.toFixed(2))};return r.itemsPrice=x(n.reduce((function(e,t){return e+t.qty*t.price}),0)),r.shippingPrice=r.itemsPrice>100?0:10,r.taxPrice=x(.15*r.itemsPrice),r.totalPrice=r.itemsPrice+r.shippingPrice+r.taxPrice,Object(c.useEffect)((function(){p&&e.history.push("/order/".concat(u._id))}),[t,u,e.history,p]),Object(He.jsxs)("div",{children:[Object(He.jsx)(bt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(He.jsxs)("div",{className:"row top",children:[Object(He.jsx)("div",{className:"col-2",children:Object(He.jsxs)("ul",{children:[Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"card card-body",children:[Object(He.jsx)("h2",{children:"Shipping"}),Object(He.jsxs)("p",{children:[Object(He.jsx)("strong",{children:"Name: "}),a.fullName," ",Object(He.jsx)("br",{}),Object(He.jsx)("strong",{children:"Address: "}),a.address,", ",a.city,",",a.country,", ",a.postalCode]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"card card-body",children:[Object(He.jsx)("h2",{children:"Payment"}),Object(He.jsxs)("p",{children:[Object(He.jsx)("strong",{children:"Method: "}),i]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"card card-body",children:[Object(He.jsx)("h2",{children:"Order Items"}),Object(He.jsx)("ul",{children:n.map((function(e){return Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:Object(He.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(He.jsx)("div",{className:"min-30",children:Object(He.jsx)(s.b,{to:"/product/".concat(e.id),children:e.name})}),Object(He.jsxs)("div",{children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e.productId)}))})]})})]})}),Object(He.jsx)("div",{className:"col-1",children:Object(He.jsx)("div",{className:"card card-body",children:Object(He.jsxs)("ul",{children:[Object(He.jsx)("li",{children:Object(He.jsx)("h2",{children:"Order Summary"})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Items"}),Object(He.jsxs)("div",{children:["$",r.itemsPrice.toFixed(2)]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Shipping"}),Object(He.jsxs)("div",{children:["$",r.shippingPrice.toFixed(2)]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Tax"}),Object(He.jsxs)("div",{children:["$",r.taxPrice.toFixed(2)]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:Object(He.jsx)("strong",{children:"Order Total"})}),Object(He.jsx)("div",{children:Object(He.jsxs)("strong",{children:["$",r.totalPrice.toFixed(2)]})})]})}),Object(He.jsx)("li",{children:Object(He.jsx)("button",{type:"button",onClick:function(){t(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Oe,payload:e}),t.prev=1,n=c(),a=n.user.userInfo,t.next=5,b.a.post("/orders",e,{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,r({type:xe,payload:i.order}),r({type:z}),localStorage.removeItem("cartItems"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r({type:ve,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}()}(Object(Ot.a)(Object(Ot.a)({},r),{},{orderItems:n})))},disabled:0===n.length,children:"Place Order"})}),h&&Object(He.jsx)(Ke,{}),O&&Object(He.jsx)($e,{variant:"danger"})]})})})]})]})},vt=r(41);var mt=function(e){var t=e.match.params.id,r=Object(c.useState)(!1),n=Object(ct.a)(r,2),a=n[0],i=n[1],d=Object(o.c)((function(e){return e.user})).userInfo,u=Object(o.c)((function(e){return e.orderDetails})),h=u.order,p=u.loading,O=u.error,x=Object(o.c)((function(e){return e.orderPay})),v=x.error,m=x.success,f=x.loading,g=Object(o.c)((function(e){return e.orderDeliver})),y=(g.error,g.success),E=(g.loading,Object(o.b)());Object(c.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/config/paypal");case 2:t=e.sent,r=t.data,(c=document.createElement("script")).type="text/javascript",c.src="https://www.paypal.com/sdk/js?client-id=".concat(r),c.async=!0,c.onload=function(){i(!0)},document.body.appendChild(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!h||m||y||h&&h._id!==t?(E({type:we}),E({type:Be}),E(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:fe,payload:e}),n=c(),a=n.user.userInfo,t.prev=2,t.next=5,b.a.get("/orders/".concat(e),{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,r({type:ge,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r({type:ye,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))):h.isPaid||(window.paypal?i(!0):e())}),[E,h,t,m,y]);var S=function(e){E(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Fe,payload:e}),n=c(),a=n.user.userInfo,t.prev=2,t.next=5,b.a.put("/orders/deliver/".concat(e),{},{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,r({type:Le,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r({type:qe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return p?Object(He.jsx)(Ke,{}):O?Object(He.jsx)($e,{variant:"danger"}):Object(He.jsxs)("div",{children:[Object(He.jsxs)("h1",{children:["Order: ",h._id]}),Object(He.jsxs)("div",{className:"row top",children:[Object(He.jsx)("div",{className:"col-2",children:Object(He.jsxs)("ul",{children:[Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"card card-body",children:[Object(He.jsx)("h2",{children:"Shipping"}),Object(He.jsxs)("p",{children:[Object(He.jsx)("strong",{children:"Name: "}),h.shippingAddress.fullName," ",Object(He.jsx)("br",{}),Object(He.jsx)("strong",{children:"Address: "}),h.shippingAddress.address,", ",h.shippingAddress.city,",",h.shippingAddress.country,","," ",h.shippingAddress.postalCode]}),h.isDelivered?Object(He.jsxs)($e,{variant:"success",children:["Delivered at ",h.deliveredAt]}):Object(He.jsx)($e,{variant:"danger",children:"Not Delivered"})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"card card-body",children:[Object(He.jsx)("h2",{children:"Payment"}),Object(He.jsxs)("p",{children:[Object(He.jsx)("strong",{children:"Method: "}),h.paymentMethod]}),h.isPaid?Object(He.jsxs)($e,{variant:"success",children:["Paid at ",h.paidAt]}):Object(He.jsx)($e,{variant:"danger",children:"Not Paid"})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"card card-body",children:[Object(He.jsx)("h2",{children:"Order Items"}),Object(He.jsx)("ul",{children:h.orderItems.map((function(e){return Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:Object(He.jsx)("img",{src:"../".concat(e.image),alt:e.name,className:"small"})}),Object(He.jsx)("div",{className:"min-30",children:Object(He.jsx)(s.b,{to:"/product/".concat(e.productId),children:e.name})}),Object(He.jsxs)("div",{children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e.productId)}))})]})})]})}),Object(He.jsx)("div",{className:"col-1",children:Object(He.jsx)("div",{className:"card card-body",children:Object(He.jsxs)("ul",{children:[Object(He.jsx)("li",{children:Object(He.jsx)("h2",{children:"Order Summary"})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Items"}),Object(He.jsxs)("div",{children:["$",h.itemsPrice.toFixed(2)]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Shipping"}),Object(He.jsxs)("div",{children:["$",h.shippingPrice.toFixed(2)]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:"Tax"}),Object(He.jsxs)("div",{children:["$",h.taxPrice.toFixed(2)]})]})}),Object(He.jsx)("li",{children:Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("div",{children:Object(He.jsx)("strong",{children:"Order Total"})}),Object(He.jsx)("div",{children:Object(He.jsxs)("strong",{children:["$",h.totalPrice.toFixed(2)]})})]})}),!h.isPaid&&Object(He.jsx)("li",{children:a?Object(He.jsxs)(He.Fragment,{children:[v&&Object(He.jsx)($e,{variant:"danger",children:v}),f&&Object(He.jsx)(Ke,{}),Object(He.jsx)(vt.PayPalButton,{amount:h.totalPrice,onSuccess:function(e){E(function(e,t){return function(){var r=Object(j.a)(l.a.mark((function r(c,n){var a,s,i,o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:c({type:Ee,payload:{order:e,paymentResult:t}}),a=n(),s=a.user.userInfo;try{i=b.a.put("/orders/pay/".concat(e._id),t,{headers:{Authorization:"Bearer ".concat(s.token)}}),o=i.data,c({type:Se,payload:o})}catch(O){c({type:_e,payload:O.response&&O.response.data.message?O.response.data.message:O.message})}case 3:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(h,e))}})]}):Object(He.jsx)(Ke,{})}),d.isAdmin&&h.isPaid&&!h.isDelivered&&Object(He.jsx)("li",{children:Object(He.jsx)("button",{type:"button",onClick:function(){return S(h._id)},children:"Deliver Order"})})]})})})]})]})};r(86);var ft=function(e){var t=Object(o.c)((function(e){return e.orderHistory})),r=t.orders,n=t.loading,a=t.error,s=Object(o.b)();return Object(c.useEffect)((function(){s(function(){var e=Object(j.a)(l.a.mark((function e(t,r){var c,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ie}),c=r(),n=c.user.userInfo,e.prev=2,e.next=5,b.a.get("/orders/history",{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:Ce,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:Re,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[s]),Object(He.jsxs)("div",{children:[Object(He.jsx)("h1",{children:"Order History"}),n?Object(He.jsx)(Ke,{}):a?Object(He.jsx)($e,{variant:"danger",children:a}):Object(He.jsxs)("table",{className:"table",children:[Object(He.jsx)("thead",{children:Object(He.jsxs)("tr",{children:[Object(He.jsx)("th",{children:"Id"}),Object(He.jsx)("th",{children:"Date"}),Object(He.jsx)("th",{children:"Total"}),Object(He.jsx)("th",{children:"Paid"}),Object(He.jsx)("th",{children:"Delivered"}),Object(He.jsx)("th",{children:"Actions"})]})}),Object(He.jsx)("tbody",{children:r.map((function(t){return Object(He.jsxs)("tr",{children:[Object(He.jsx)("td",{children:t._id}),Object(He.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(He.jsx)("td",{children:t.totalPrice.toFixed(2)}),Object(He.jsx)("td",{children:t.isPaid?t.paidAt.substring(0,10):"No"}),Object(He.jsx)("td",{children:t.isDelivered?t.deliveredAt.substring(0,10):"No"}),Object(He.jsx)("td",{children:Object(He.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Details"})})]},t._id)}))})]})]})};var gt=function(){var e=Object(c.useState)(""),t=Object(ct.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),s=Object(ct.a)(a,2),i=s[0],d=s[1],u=Object(c.useState)(""),h=Object(ct.a)(u,2),p=h[0],O=h[1],x=Object(c.useState)(""),v=Object(ct.a)(x,2),m=v[0],f=v[1],g=Object(o.b)(),y=Object(o.c)((function(e){return e.user})).userInfo,E=Object(o.c)((function(e){return e.userDetails})),S=E.userDetail,_=E.loading,w=E.error,I=Object(o.c)((function(e){return e.updateProfile})),C=I.success,R=I.loading,N=I.error;return Object(c.useEffect)((function(){S?(n(S.name),d(S.email)):(g({type:ne}),g(it(y._id)))}),[g,y._id,S]),Object(He.jsx)("div",{children:Object(He.jsxs)("form",{className:"form",onSubmit:function(e){var t;e.preventDefault(),p!==m?alert("Password and confirm password are not matched."):g((t={userId:S._id,name:r,email:i,password:p},function(){var e=Object(j.a)(l.a.mark((function e(r,c){var n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:te,payload:t}),n=c(),a=n.user.userInfo,e.prev=2,e.next=5,b.a.put("/users/profile",t,{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=e.sent,i=s.data,r({type:re,payload:i}),r({type:$,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r({type:ce,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(He.jsx)("div",{children:Object(He.jsx)("h1",{children:"User Profile"})}),_?Object(He.jsx)(Ke,{}):w?Object(He.jsx)($e,{variant:"danger",children:w}):Object(He.jsxs)(He.Fragment,{children:[R&&Object(He.jsx)(Ke,{}),N&&Object(He.jsx)($e,{variant:"danger",children:N}),C&&Object(He.jsx)($e,{variant:"success",children:"Profile updated successfully."}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"name",children:"Name"}),Object(He.jsx)("input",{id:"name",type:"text",placeholder:"Enter name",value:r,onChange:function(e){return n(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"email",children:"Email"}),Object(He.jsx)("input",{id:"email",type:"text",placeholder:"Enter email",value:i,onChange:function(e){return d(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"password",children:"Password"}),Object(He.jsx)("input",{id:"password",type:"password",placeholder:"Enter password",onChange:function(e){return O(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(He.jsx)("input",{id:"confirmPassword",type:"password",placeholder:"Enter confirm password",onChange:function(e){return f(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsx)("button",{type:"submit",children:"Update"})]})]})]})})};var yt=function(e){var t=e.location.search,r=tt(t,"currPage"),n=Object(o.b)(),a=Object(o.c)((function(e){return e.products})),i=a.products,d=a.loading,u=a.error,h=a.page,p=a.pages,O=Object(o.c)((function(e){return e.productCreate})),x=O.loading,v=O.error,m=O.success,S=O.product,_=Object(o.c)((function(e){return e.productDelete})),w=_.loading,I=_.error,D=_.success;Object(c.useEffect)((function(){m&&(n({type:E}),e.history.push("/product/edit/".concat(S._id))),n(Ze({currPage:r})),D&&n({type:A})}),[n,S,e.history,m,D,r]);var P=function(e){window.confirm("Are you sure to delete?")&&n(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:C,payload:e}),n=c(),a=n.user.userInfo,t.prev=2,t.next=5,b.a.delete("/products/".concat(e),{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,r({type:R,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),r({type:N,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(He.jsxs)("div",{children:[Object(He.jsxs)("div",{className:"row",children:[Object(He.jsx)("h1",{children:"Products"}),x&&Object(He.jsx)(Ke,{}),v&&Object(He.jsx)($e,{variant:"danger",children:v}),m&&Object(He.jsx)($e,{variant:"success",children:"Product created successfully"}),w&&Object(He.jsx)(Ke,{}),I&&Object(He.jsx)($e,{variant:"danger",children:I}),D?Object(He.jsx)($e,{variant:"success",children:"Product deleted successfully"}):null,Object(He.jsx)("button",{type:"button",onClick:function(){n(function(){var e=Object(j.a)(l.a.mark((function e(t,r){var c,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:f}),c=r(),n=c.user.userInfo,e.prev=2,e.next=5,b.a.post("/products",{},{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:g,payload:s.product}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())},style:{width:"20rem",backgroundColor:"green"},children:"Create New Product"})]}),d?Object(He.jsx)(Ke,{}):u?Object(He.jsx)($e,{variant:"danger",children:u}):Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)("table",{className:"table",children:[Object(He.jsx)("thead",{children:Object(He.jsxs)("tr",{children:[Object(He.jsx)("th",{children:"Id"}),Object(He.jsx)("th",{children:"Name"}),Object(He.jsx)("th",{children:"Price"}),Object(He.jsx)("th",{children:"Category"}),Object(He.jsx)("th",{children:"Brand"}),Object(He.jsx)("th",{style:{width:"15%"},children:"Actions"})]})}),Object(He.jsx)("tbody",{children:i.map((function(t){return Object(He.jsxs)("tr",{children:[Object(He.jsx)("td",{children:t._id}),Object(He.jsx)("td",{children:t.name}),Object(He.jsx)("td",{children:t.price}),Object(He.jsx)("td",{children:t.category}),Object(He.jsx)("td",{children:t.brand}),Object(He.jsxs)("td",{children:[Object(He.jsx)("button",{type:"button",className:"small",onClick:function(){return e.history.push("/product/edit/".concat(t._id))},children:"Edit"}),Object(He.jsx)("button",{type:"button",className:"small",onClick:function(){return P(t._id)},children:"Delete"})]})]},t._id)}))})]}),Object(He.jsx)("div",{className:"row center pagination",children:Object(Ge.a)(Array(p).keys()).map((function(e){return Object(He.jsx)(s.b,{className:e+1===h?"active":"",to:"/productlist?currPage=".concat(e+1),children:e+1})}))})]})]})};var Et=function(e){var t=e.match.params.id,r=Object(c.useState)(""),n=Object(ct.a)(r,2),a=n[0],s=n[1],i=Object(c.useState)(""),d=Object(ct.a)(i,2),u=d[0],h=d[1],p=Object(c.useState)(""),O=Object(ct.a)(p,2),x=O[0],v=O[1],m=Object(c.useState)(""),f=Object(ct.a)(m,2),g=f[0],y=f[1],E=Object(c.useState)(""),C=Object(ct.a)(E,2),R=C[0],N=C[1],A=Object(c.useState)(""),D=Object(ct.a)(A,2),P=D[0],T=D[1],k=Object(c.useState)(""),U=Object(ct.a)(k,2),F=U[0],L=U[1],q=Object(o.c)((function(e){return e.productDetail})),B=q.loading,Q=q.error,M=q.product,z=Object(o.c)((function(e){return e.productEdit})),H=z.loading,$=z.error,G=z.success,Y=Object(o.b)();Object(c.useEffect)((function(){G&&e.history.push("/productlist"),!M||M._id!==t||G?(Y({type:I}),Y(et(t))):(s(M.name),h(M.price),v(M.image),y(M.category),N(M.countInStock),T(M.brand),L(M.description))}),[Y,t,M,e.history,G]);var V=Object(o.c)((function(e){return e.user})).userInfo,J=Object(c.useState)(!1),W=Object(ct.a)(J,2),X=W[0],K=W[1],Z=Object(c.useState)(""),ee=Object(ct.a)(Z,2),te=ee[0],re=ee[1],ce=function(){var e=Object(j.a)(l.a.mark((function e(t){var r,c,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(c=new FormData).append("image",r),K(!0),e.prev=4,e.next=7,b.a.post("/uploads",c,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(V.token)}});case 7:n=e.sent,a=n.data,v(a),K(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),re(e.t0.message),K(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(He.jsx)("div",{children:Object(He.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),Y(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:S,payload:e}),n=c(),a=n.user.userInfo,t.prev=2,t.next=5,b.a.put("/products/".concat(e._id),e,{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,r({type:_,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r({type:w,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:t,name:a,price:u,image:x,category:g,brand:P,description:F,countInStock:R}))},children:[Object(He.jsx)("div",{children:Object(He.jsxs)("h1",{children:["Edit Product - ",t]})}),H&&Object(He.jsx)(Ke,{}),$&&Object(He.jsx)($e,{variant:"danger",children:$}),B?Object(He.jsx)(Ke,{}):Q?Object(He.jsx)($e,{variant:"danger",children:Q}):Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"name",children:"Name"}),Object(He.jsx)("input",{id:"name",type:"text",placeholder:"Enter name",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"price",children:"Price"}),Object(He.jsx)("input",{id:"price",type:"text",placeholder:"Enter price",value:u,onChange:function(e){return h(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"imageFile",children:"Image File"}),Object(He.jsx)("input",{id:"imageFile",type:"file",accept:"image/jpeg",label:"Choose image",onChange:ce}),X&&Object(He.jsx)(Ke,{}),te&&Object(He.jsx)($e,{variant:"danger",children:te})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"category",children:"Category"}),Object(He.jsx)("input",{id:"category",type:"text",placeholder:"Enter category",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(He.jsx)("input",{id:"brand",type:"text",placeholder:"Enter brand",value:P,onChange:function(e){return T(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"countInStock",children:"CountInStock"}),Object(He.jsx)("input",{id:"countInStock",type:"text",placeholder:"Enter countInStock",value:R,onChange:function(e){return N(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"description",children:"Description"}),Object(He.jsx)("textarea",{id:"description",rows:"3",type:"text",placeholder:"Enter description",value:F,onChange:function(e){return L(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{}),Object(He.jsx)("button",{type:"submit",children:"Update"})]})]})]})})};var St=function(e){var t=Object(o.c)((function(e){return e.orderList})),r=t.orders,n=t.loading,a=t.error,s=Object(o.c)((function(e){return e.orderDelete})),i=s.loading,d=s.error,u=s.success,h=Object(o.b)();Object(c.useEffect)((function(){h({type:Ue}),h(function(){var e=Object(j.a)(l.a.mark((function e(t,r){var c,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ne}),c=r(),n=c.user.userInfo,e.prev=2,e.next=5,b.a.get("/orders/list",{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:Ae,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:De,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}())}),[h,u]);var p=function(e){window.confirm("Are you sure to delete?")&&h(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Pe,payload:e}),n=c(),a=n.user.userInfo,t.prev=2,t.next=5,b.a.delete("/orders/".concat(e),{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,r({type:Te,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r({type:ke,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(He.jsxs)("div",{children:[Object(He.jsx)("h1",{children:"Orders"}),i&&Object(He.jsx)(Ke,{}),d&&Object(He.jsx)($e,{variant:"danger",children:d}),u&&Object(He.jsx)($e,{variant:"success",children:"Order deleted successfully"}),n?Object(He.jsx)(Ke,{}):a?Object(He.jsx)($e,{variant:"danger",children:a}):Object(He.jsxs)("table",{className:"table",children:[Object(He.jsx)("thead",{children:Object(He.jsxs)("tr",{children:[Object(He.jsx)("th",{children:"ID"}),Object(He.jsx)("th",{children:"User"}),Object(He.jsx)("th",{children:"Date"}),Object(He.jsx)("th",{children:"Total"}),Object(He.jsx)("th",{children:"Paid"}),Object(He.jsx)("th",{children:"Delivered"}),Object(He.jsx)("th",{children:"Actions"})]})}),Object(He.jsx)("tbody",{children:r.map((function(t){return Object(He.jsxs)("tr",{children:[Object(He.jsx)("td",{children:t._id}),Object(He.jsx)("td",{children:t.userId.name}),Object(He.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(He.jsx)("td",{children:t.totalPrice.toFixed(2)}),Object(He.jsx)("td",{children:t.isPaid?t.paidAt.substring(0,10):"No"}),Object(He.jsx)("td",{children:t.isDelivered?t.deliveredAt.substring(0,10):"No"}),Object(He.jsxs)("td",{children:[Object(He.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Details"}),Object(He.jsx)("button",{type:"button",className:"small",onClick:function(){return p(t._id)},children:"Delete"})]})]},t._id)}))})]})]})};var _t=function(e){var t=Object(o.b)(),r=Object(o.c)((function(e){return e.userList})),n=r.loading,a=r.error,s=r.users,i=Object(o.c)((function(e){return e.userDelete})),d=i.loading,u=i.error,h=i.success;Object(c.useEffect)((function(){t(function(){var e=Object(j.a)(l.a.mark((function e(t,r){var c,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ae}),c=r(),n=c.user.userInfo,e.prev=2,e.next=5,b.a.get("/users",{headers:{Authorization:"Bearer ".concat(n.token)}});case 5:a=e.sent,s=a.data,t({type:se,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:ie,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}()),t({type:ee})}),[t,h]);var p=function(e){window.confirm("Are you sure to delete?")&&t(function(e){return function(){var t=Object(j.a)(l.a.mark((function t(r,c){var n,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:oe,payload:e}),n=c(),a=n.user.userInfo,t.prev=2,t.next=5,b.a.delete("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=t.sent,i=s.data,r({type:de,payload:i}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),r({type:le,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(He.jsxs)("div",{children:[Object(He.jsx)("h1",{children:"Users"}),d&&Object(He.jsx)(Ke,{}),u&&Object(He.jsx)($e,{variant:"danger",children:u}),h&&Object(He.jsx)($e,{variant:"success",children:"User deleted successfully"}),n?Object(He.jsx)(Ke,{}):a?Object(He.jsx)($e,{variant:"danger",children:a}):Object(He.jsxs)("table",{className:"table",children:[Object(He.jsx)("thead",{children:Object(He.jsxs)("tr",{children:[Object(He.jsx)("th",{children:"ID"}),Object(He.jsx)("th",{children:"Name"}),Object(He.jsx)("th",{children:"Email"}),Object(He.jsx)("th",{children:"Admin?"}),Object(He.jsx)("th",{children:"Seller?"}),Object(He.jsx)("th",{children:"Actions"})]})}),Object(He.jsx)("tbody",{children:s.map((function(t){return Object(He.jsxs)("tr",{children:[Object(He.jsx)("td",{children:t._id}),Object(He.jsx)("td",{children:t.name}),Object(He.jsx)("td",{children:t.email}),Object(He.jsx)("td",{children:t.isAdmin?"Yes":"No"}),Object(He.jsx)("td",{children:t.isSeller?"Yes":"No"}),Object(He.jsxs)("td",{children:[Object(He.jsx)("button",{type:"button",className:"small",onClick:function(){return r=t._id,void e.history.push("/user/edit/".concat(r));var r},children:"Edit"}),Object(He.jsx)("button",{type:"button",className:"small",onClick:function(){return p(t._id)},children:"Delete"})]})]},t._id)}))})]})]})};var wt=function(e){var t=e.match.params.id,r=Object(o.b)(),n=Object(o.c)((function(e){return e.userEdit})),a=(n.loading,n.error),s=n.success,i=Object(o.c)((function(e){return e.userDetails})),d=i.userDetail,u=i.loading,h=i.error,p=Object(c.useState)(""),O=Object(ct.a)(p,2),x=O[0],v=O[1],m=Object(c.useState)(""),f=Object(ct.a)(m,2),g=f[0],y=f[1],E=Object(c.useState)(!1),S=Object(ct.a)(E,2),_=S[0],w=S[1],I=Object(c.useState)(!1),C=Object(ct.a)(I,2),R=C[0],N=C[1];return Object(c.useEffect)((function(){s&&(r({type:pe}),e.history.push("/userlist")),d?(v(d.name),y(d.email),w(d.isSeller),N(d.isAdmin)):r(it(t))}),[r,d,t,s,e.history]),Object(He.jsx)("div",{children:Object(He.jsxs)("form",{className:"form",onSubmit:function(e){var c;e.preventDefault(),r((c={_id:t,name:x,email:g,isSeller:_,isAdmin:R},function(){var e=Object(j.a)(l.a.mark((function e(t,r){var n,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:ue,payload:c}),n=r(),a=n.user.userInfo,e.prev=2,e.next=5,b.a.put("/users/".concat(c._id),c,{headers:{Authorization:"Bearer ".concat(a.token)}});case 5:s=e.sent,i=s.data,t({type:be,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:he,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(He.jsxs)("div",{children:[Object(He.jsxs)("h1",{children:["Edit User ",x]}),u&&Object(He.jsx)(Ke,{}),a&&Object(He.jsx)($e,{variant:"danger",children:a})]}),u?Object(He.jsx)(Ke,{}):h?Object(He.jsx)($e,{variant:"danger",children:h}):Object(He.jsxs)(He.Fragment,{children:[Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"name",children:"Name"}),Object(He.jsx)("input",{id:"name",type:"text",placeholder:"Enter name",value:x,onChange:function(e){return v(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"email",children:"Email"}),Object(He.jsx)("input",{id:"email",type:"text",placeholder:"Enter email",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"isSeller",children:"Is Seller"}),Object(He.jsx)("input",{id:"isSeller",type:"checkbox",checked:_,onChange:function(e){return w(e.target.value)}})]}),Object(He.jsxs)("div",{children:[Object(He.jsx)("label",{htmlFor:"isAdmin",children:"Is Admin"}),Object(He.jsx)("input",{id:"isAdmin",type:"checkbox",checked:R,onChange:function(e){return N(e.target.value)}})]}),Object(He.jsx)("div",{children:Object(He.jsx)("button",{type:"submit",children:"Confirm"})})]})]})})};var It=function(e){var t=Object(o.b)(),r=Object(o.c)((function(e){return e.categoryList})),n=r.loading,a=r.error,i=r.categories;return Object(c.useEffect)((function(){t(function(){var e=Object(j.a)(l.a.mark((function e(t){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:D}),e.prev=1,e.next=4,b.a.get("/products/categories");case 4:r=e.sent,c=r.data,t({type:P,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:T,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(He.jsxs)("div",{className:"col-1",style:{backgroundColor:"#f4f4f4"},children:[Object(He.jsx)("h4",{children:"Category"}),n?Object(He.jsx)(Ke,{}):a?Object(He.jsx)($e,{variant:"danger",children:a}):Object(He.jsx)("ul",{children:i.map((function(t){return Object(He.jsx)("li",{children:Object(He.jsx)(s.b,{className:t===e.category?"active":"",to:e.getFilterUrl({category:t}),children:t})},t)}))})]})};var Ct=function(e){var t=Object(o.b)(),r=e.location.search,n=tt(r,"name"),a=tt(r,"category"),i=tt(r,"sort"),d=tt(r,"currPage"),l=Object(o.c)((function(e){return e.products})),j=l.loading,u=l.error,b=l.products,h=l.page,p=l.pages,O=l.count;Object(c.useEffect)((function(){t(Ze({currPage:d,name:"all"!==n?n:"",category:"all"!==a?a:"",sort:i}))}),[t,n,a,i,d]);var x=function(e){var t=e.page||d,r=e.category||a,c=e.name||n,s=e.sort||i;return"/search?name=".concat(c,"&category=").concat(r,"&sort=").concat(s,"&currPage=").concat(t)};return Object(He.jsxs)("div",{children:[Object(He.jsxs)("div",{className:"row",children:[j?Object(He.jsx)(Ke,{}):u?Object(He.jsx)($e,{variant:"danger",children:u}):Object(He.jsx)("div",{children:Object(He.jsxs)("h1",{children:["Found ",O," Results"]})}),Object(He.jsx)("div",{children:Object(He.jsxs)("select",{value:i,onChange:function(t){return e.history.push(x({sort:t.target.value}))},children:[Object(He.jsx)("option",{value:"none",children:"Sort By"}),Object(He.jsx)("option",{value:"priceAsc",children:"Price: Low to High"}),Object(He.jsx)("option",{value:"priceDesc",children:"Price: High to Low"})]})})]}),Object(He.jsxs)("div",{className:"row top",children:[Object(He.jsx)("div",{className:"col-1",children:Object(He.jsx)(It,{category:a,getFilterUrl:x})}),Object(He.jsx)("div",{className:"col-3",children:j?Object(He.jsx)(Ke,{}):u?Object(He.jsx)($e,{variant:"danger",children:u}):Object(He.jsxs)(He.Fragment,{children:[Object(He.jsx)("div",{className:"row center",children:b.map((function(e){return Object(He.jsx)(Xe,{product:e},e._id)}))}),Object(He.jsx)("div",{className:"row center pagination",children:Object(Ge.a)(Array(p).keys()).map((function(e){return Object(He.jsx)(s.b,{className:e+1===h?"active":"",to:x({page:e+1}),children:e+1})}))})]})})]})]})},Rt=r(23),Nt=(r(87),["places"]),At={lat:-36.85,lng:174.76};var Dt=function(e){var t=Object(o.b)(),r=Object(c.useState)(""),n=Object(ct.a)(r,2),a=n[0],s=n[1],i=Object(c.useState)(At),d=Object(ct.a)(i,2),u=d[0],h=d[1],p=Object(c.useState)(u),O=Object(ct.a)(p,2),x=O[0],v=O[1],m=Object(c.useRef)(null),f=Object(c.useRef)(null),g=Object(c.useRef)(null);Object(c.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/config/google");case 2:t=e.sent,r=t.data,s(r),y();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){h({lat:e.coords.latitude,lng:e.coords.longitude}),v({lat:e.coords.latitude,lng:e.coords.longitude})})):alert("Geolocation os is not supported by this browser.")};return a?Object(He.jsx)("div",{className:"full-container",children:Object(He.jsx)(Rt.b,{libraries:Nt,googleMapsApiKey:a,children:Object(He.jsxs)(Rt.a,{id:"google-map",mapContainerStyle:{height:"100%",width:"100%"},center:u,zoom:15,onLoad:function(e){m.current=e},onIdle:function(){v({lat:m.current.center.lat(),lng:m.current.center.lng()})},children:[Object(He.jsx)(Rt.d,{onLoad:function(e){f.current=e},onPlacesChanged:function(){var e=f.current.getPlaces()[0].geometry.location;h({lat:e.lat(),lng:e.lng()}),v({lat:e.lat(),lng:e.lng()})},children:Object(He.jsxs)("div",{className:"map-input-box",children:[Object(He.jsx)("input",{type:"text",placeholder:"Enter your address"}),Object(He.jsx)("button",{type:"button",onClick:function(){var r=f.current.getPlaces();r&&1===r.length?(t({type:Qe,payload:{lat:x.lat,lng:x.lng,address:r[0].formatted_address,name:r[0].name,googleAddressId:r[0].id}}),alert("Location selected successfully."),e.history.push("/shipping")):alert("Please enter your address.")},children:"Confirm"})]})}),Object(He.jsx)(Rt.c,{position:x,onLoad:function(e){g.current=e}})]})})}):Object(He.jsx)(Ke,{})};var Pt=function(){return Object(He.jsx)(s.a,{children:Object(He.jsxs)("div",{className:"grid-container",children:[Object(He.jsx)("header",{className:"row",children:Object(He.jsx)(ut,{})}),Object(He.jsx)("main",{children:Object(He.jsxs)(i.c,{children:[Object(He.jsx)(i.a,{path:"/cart/:id?",component:Je}),Object(He.jsx)(i.a,{path:"/signin",component:ot}),Object(He.jsx)(i.a,{path:"/signup",component:dt}),Object(He.jsx)(i.a,{path:"/profile",component:gt}),Object(He.jsx)(i.a,{path:"/product/:id",exact:!0,component:st}),Object(He.jsx)(i.a,{path:"/product/edit/:id",component:Et}),Object(He.jsx)(i.a,{path:"/shipping",component:ht}),Object(He.jsx)(i.a,{path:"/payment",component:pt}),Object(He.jsx)(i.a,{path:"/placeorder",component:xt}),Object(He.jsx)(i.a,{path:"/order/:id",component:mt}),Object(He.jsx)(i.a,{path:"/orderhistory",component:ft}),Object(He.jsx)(i.a,{path:"/orderlist",component:St}),Object(He.jsx)(i.a,{path:"/userlist",component:_t}),Object(He.jsx)(i.a,{path:"/user/edit/:id",component:wt}),Object(He.jsx)(i.a,{path:"/productlist",component:yt}),Object(He.jsx)(i.a,{path:"/search",component:Ct}),Object(He.jsx)(i.a,{path:"/map",component:Dt}),Object(He.jsx)(i.a,{path:"/home",component:rt}),Object(He.jsx)(i.a,{path:"/",exact:!0,component:rt})]})}),Object(He.jsx)("footer",{className:"row center",children:"All right reserved"})]})})},Tt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,90)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),a(e),s(e)}))},kt=r(20),Ut=r(42),Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return{loading:!0};case p:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages,count:t.payload.count};case O:return{loading:!1,error:t.payload};default:return e}},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:var r=t.payload,c=e.cartItems.find((function(e){return e.productId===r.productId}));return c?Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.productId===c.productId?r:e}))}):Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:[].concat(Object(Ge.a)(e.cartItems),[r])});case B:return Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.productId!==t.payload}))});case Q:return Object(Ot.a)(Object(Ot.a)({},e),{},{shippingAddress:t.payload});case M:return Object(Ot.a)(Object(Ot.a)({},e),{},{paymentMethod:t.payload});case z:return Object(Ot.a)(Object(Ot.a)({},e),{},{cartItems:[]});default:return e}},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0};case $:return{loading:!1,userInfo:t.payload};case G:return{loading:!1,error:t.payload};case V:return{loading:!0};case J:return{loading:!1,userInfo:t.payload};case W:return{loading:!1,error:t.payload};case Y:return{};default:return e}},Bt={user:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:"Paypal"}},Qt=Object(kt.c)({products:Ft,productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{},loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case v:return{loading:!1,product:t.payload};case m:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case g:return{loading:!1,success:!0,product:t.payload};case y:return{loading:!1,error:t.payload};case E:return{};default:return e}},productEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case _:return{loading:!1,success:!0};case w:return{loading:!1,error:t.payload};case I:return{};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return{loading:!0};case R:return{loading:!1,success:!0};case N:return{loading:!1,error:t.payload};case A:return{};default:return e}},reviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case U:return{loading:!1,success:!0,review:t.payload};case F:return{loading:!1,error:t.payload};case L:return{};default:return e}},categoryList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{categories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case P:return{loading:!1,categories:t.payload};case T:return{loading:!1,error:t.payload};default:return e}},cart:Lt,user:qt,userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case K:return{loading:!1,userDetail:t.payload};case Z:return{loading:!1,error:t.payload};case ee:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case se:return{loading:!1,users:t.payload};case ie:return{loading:!1,error:t.payload};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case de:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};case je:return{};default:return e}},userEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case be:return{loading:!1,success:!0};case he:return{loading:!1,error:t.payload};case pe:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case xe:return{loading:!1,success:!0,order:t.payload};case ve:return{loading:!1,error:t.payload};case me:return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0};case ge:return{loading:!1,order:t.payload};case ye:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case Se:return{loading:!1,success:!0};case _e:return{loading:!1,error:t.payload};case we:return{};default:return e}},orderHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0};case Ce:return{loading:!1,orders:t.payload};case Re:return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return{loading:!0};case Ae:return{loading:!1,orders:t.payload};case De:return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return{loading:!0};case Te:return{loading:!1,success:!0};case ke:return{loading:!1,error:t.payload};case Ue:return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{loading:!0};case Le:return{loading:!1,success:!0};case qe:return{loading:!1,error:t.payload};case Be:return{};default:return e}},updateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case re:return{loading:!1,success:!0};case ce:return{loading:!1,error:t.payload};case ne:return{};default:return e}},userMapAddress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return{address:t.payload};default:return e}}}),Mt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||kt.d,zt=Object(kt.e)(Qt,Bt,Mt(Object(kt.a)(Ut.a)));r(88);a.a.render(Object(He.jsx)(o.a,{store:zt,children:Object(He.jsx)(Pt,{})}),document.getElementById("root")),Tt()}},[[89,1,2]]]);
//# sourceMappingURL=main.a1dfa3fb.chunk.js.map